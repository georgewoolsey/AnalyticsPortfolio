<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>9 Simple web scraping | Analytics Portfolio</title>
  <meta name="description" content="Using the bookdown package to write a book of analytics projects. The output format for this example is bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.25 and GitBook 2.6.7" />

  <meta property="og:title" content="9 Simple web scraping | Analytics Portfolio" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Using the bookdown package to write a book of analytics projects. The output format for this example is bookdown::gitbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="9 Simple web scraping | Analytics Portfolio" />
  
  <meta name="twitter:description" content="Using the bookdown package to write a book of analytics projects. The output format for this example is bookdown::gitbook." />
  

<meta name="author" content="George Woolsey" />


<meta name="date" content="2022-03-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="web-scraping-and-functions.html"/>
<link rel="next" href="assignment-2.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/dygraphs-1.1.1/dygraph.css" rel="stylesheet" />
<script src="libs/dygraphs-1.1.1/dygraph-combined.js"></script>
<script src="libs/dygraphs-1.1.1/shapes.js"></script>
<script src="libs/moment-2.8.4/moment.js"></script>
<script src="libs/moment-timezone-0.2.5/moment-timezone-with-data.js"></script>
<script src="libs/moment-fquarter-1.0.0/moment-fquarter.min.js"></script>
<script src="libs/dygraphs-binding-1.1.1.6/dygraphs.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.0/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.0/leaflet-providers-plugin.js"></script>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction<span></span></a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#this-book"><i class="fa fa-check"></i><b>1.1</b> This book<span></span></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Using R Markdown<span></span></a></li>
<li class="chapter" data-level="3" data-path="methods.html"><a href="methods.html"><i class="fa fa-check"></i><b>3</b> Methods<span></span></a>
<ul>
<li class="chapter" data-level="3.1" data-path="methods.html"><a href="methods.html#site-description"><i class="fa fa-check"></i><b>3.1</b> Site Description<span></span></a></li>
<li class="chapter" data-level="3.2" data-path="methods.html"><a href="methods.html#data-download"><i class="fa fa-check"></i><b>3.2</b> Data Download<span></span></a></li>
<li class="chapter" data-level="3.3" data-path="methods.html"><a href="methods.html#static-data-plotter"><i class="fa fa-check"></i><b>3.3</b> Static Data Plotter<span></span></a></li>
<li class="chapter" data-level="3.4" data-path="methods.html"><a href="methods.html#interactive-data-plotter"><i class="fa fa-check"></i><b>3.4</b> Interactive Data Plotter<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="assignment.html"><a href="assignment.html"><i class="fa fa-check"></i><b>4</b> Assignment<span></span></a>
<ul>
<li class="chapter" data-level="4.1" data-path="assignment.html"><a href="assignment.html#dygraph-example"><i class="fa fa-check"></i><b>4.1</b> DyGraph example<span></span></a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="assignment.html"><a href="assignment.html#interact-with-this-chart"><i class="fa fa-check"></i><b>4.1.1</b> Interact with this chart!<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="assignment.html"><a href="assignment.html#poudre-river-overview"><i class="fa fa-check"></i><b>4.2</b> Poudre River Overview<span></span></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="assignment.html"><a href="assignment.html#map-of-poudre-river-trail-system"><i class="fa fa-check"></i><b>4.2.1</b> Map of Poudre River Trail System<span></span></a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="assignment.html"><a href="assignment.html#link-to-presentation-style-webpage"><i class="fa fa-check"></i><b>4.3</b> Link to presentation-style webpage<span></span></a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="wildfire-recovery.html"><a href="wildfire-recovery.html"><i class="fa fa-check"></i><b>5</b> Wildfire Recovery<span></span></a></li>
<li class="chapter" data-level="6" data-path="read-data.html"><a href="read-data.html"><i class="fa fa-check"></i><b>6</b> Read Data<span></span></a></li>
<li class="chapter" data-level="7" data-path="assignment-1.html"><a href="assignment-1.html"><i class="fa fa-check"></i><b>7</b> Assignment<span></span></a>
<ul>
<li class="chapter" data-level="7.1" data-path="assignment-1.html"><a href="assignment-1.html#question-1"><i class="fa fa-check"></i><b>7.1</b> Question 1)<span></span></a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="assignment-1.html"><a href="assignment-1.html#daily-ndvi-vs-ndmi"><i class="fa fa-check"></i><b>7.1.1</b> Daily NDVI vs NDMI<span></span></a></li>
<li class="chapter" data-level="7.1.2" data-path="assignment-1.html"><a href="assignment-1.html#monthly-ndvi-vs-ndmi"><i class="fa fa-check"></i><b>7.1.2</b> Monthly NDVI vs NDMI<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="assignment-1.html"><a href="assignment-1.html#question-2"><i class="fa fa-check"></i><b>7.2</b> Question 2)<span></span></a></li>
<li class="chapter" data-level="7.3" data-path="assignment-1.html"><a href="assignment-1.html#question-3"><i class="fa fa-check"></i><b>7.3</b> Question 3)<span></span></a></li>
<li class="chapter" data-level="7.4" data-path="assignment-1.html"><a href="assignment-1.html#question-4"><i class="fa fa-check"></i><b>7.4</b> Question 4)<span></span></a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="assignment-1.html"><a href="assignment-1.html#quick-monthly-ndvi-chart"><i class="fa fa-check"></i><b>7.4.1</b> Quick monthly NDVI chart<span></span></a></li>
<li class="chapter" data-level="7.4.2" data-path="assignment-1.html"><a href="assignment-1.html#detailed-monthly-ndvi-chart"><i class="fa fa-check"></i><b>7.4.2</b> Detailed monthly NDVI chart<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="assignment-1.html"><a href="assignment-1.html#question-5"><i class="fa fa-check"></i><b>7.5</b> Question 5)<span></span></a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="assignment-1.html"><a href="assignment-1.html#quick-monthly-ndsi-chart"><i class="fa fa-check"></i><b>7.5.1</b> Quick monthly NDSI chart<span></span></a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="assignment-1.html"><a href="assignment-1.html#bonus-question-1"><i class="fa fa-check"></i><b>7.6</b> Bonus Question 1)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="web-scraping-and-functions.html"><a href="web-scraping-and-functions.html"><i class="fa fa-check"></i><b>8</b> Web Scraping and Functions<span></span></a></li>
<li class="chapter" data-level="9" data-path="simple-web-scraping.html"><a href="simple-web-scraping.html"><i class="fa fa-check"></i><b>9</b> Simple web scraping<span></span></a>
<ul>
<li class="chapter" data-level="9.1" data-path="simple-web-scraping.html"><a href="simple-web-scraping.html#reading-an-html"><i class="fa fa-check"></i><b>9.1</b> Reading an html<span></span></a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="simple-web-scraping.html"><a href="simple-web-scraping.html#extract-csv-links-from-webpage"><i class="fa fa-check"></i><b>9.1.1</b> Extract CSV links from webpage<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="simple-web-scraping.html"><a href="simple-web-scraping.html#data-download-1"><i class="fa fa-check"></i><b>9.2</b> Data Download<span></span></a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="simple-web-scraping.html"><a href="simple-web-scraping.html#download-data-in-a-for-loop"><i class="fa fa-check"></i><b>9.2.1</b> Download data in a for loop<span></span></a></li>
<li class="chapter" data-level="9.2.2" data-path="simple-web-scraping.html"><a href="simple-web-scraping.html#download-data-in-a-map"><i class="fa fa-check"></i><b>9.2.2</b> Download data in a map<span></span></a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="simple-web-scraping.html"><a href="simple-web-scraping.html#data-read-in"><i class="fa fa-check"></i><b>9.3</b> Data read-in<span></span></a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="simple-web-scraping.html"><a href="simple-web-scraping.html#read-in-just-the-snow-data-as-a-loop"><i class="fa fa-check"></i><b>9.3.1</b> Read in just the snow data as a loop<span></span></a></li>
<li class="chapter" data-level="9.3.2" data-path="simple-web-scraping.html"><a href="simple-web-scraping.html#read-in-the-data-as-a-map-function"><i class="fa fa-check"></i><b>9.3.2</b> Read in the data as a map function<span></span></a></li>
<li class="chapter" data-level="9.3.3" data-path="simple-web-scraping.html"><a href="simple-web-scraping.html#plot-snow-data"><i class="fa fa-check"></i><b>9.3.3</b> Plot snow data<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="assignment-2.html"><a href="assignment-2.html"><i class="fa fa-check"></i><b>10</b> Assignment:<span></span></a>
<ul>
<li class="chapter" data-level="10.1" data-path="assignment-2.html"><a href="assignment-2.html#question-1-1"><i class="fa fa-check"></i><b>10.1</b> Question 1<span></span></a></li>
<li class="chapter" data-level="10.2" data-path="assignment-2.html"><a href="assignment-2.html#question-2-1"><i class="fa fa-check"></i><b>10.2</b> Question 2<span></span></a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="assignment-2.html"><a href="assignment-2.html#download-with-for-loop"><i class="fa fa-check"></i><b>10.2.1</b> Download with for loop<span></span></a></li>
<li class="chapter" data-level="10.2.2" data-path="assignment-2.html"><a href="assignment-2.html#download-with-map-function"><i class="fa fa-check"></i><b>10.2.2</b> Download with map function<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="assignment-2.html"><a href="assignment-2.html#question-3-1"><i class="fa fa-check"></i><b>10.3</b> Question 3<span></span></a></li>
<li class="chapter" data-level="10.4" data-path="assignment-2.html"><a href="assignment-2.html#question-4-1"><i class="fa fa-check"></i><b>10.4</b> Question 4<span></span></a></li>
<li class="chapter" data-level="10.5" data-path="assignment-2.html"><a href="assignment-2.html#question-5-1"><i class="fa fa-check"></i><b>10.5</b> Question 5<span></span></a></li>
<li class="chapter" data-level="10.6" data-path="assignment-2.html"><a href="assignment-2.html#question-6"><i class="fa fa-check"></i><b>10.6</b> Question 6<span></span></a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="assignment-2.html"><a href="assignment-2.html#a-better-way"><i class="fa fa-check"></i><b>10.6.1</b> A better way?<span></span></a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="assignment-2.html"><a href="assignment-2.html#bonus-question-1-1"><i class="fa fa-check"></i><b>10.7</b> Bonus Question 1<span></span></a></li>
<li class="chapter" data-level="10.8" data-path="assignment-2.html"><a href="assignment-2.html#bonus-question-2"><i class="fa fa-check"></i><b>10.8</b> Bonus Question 2<span></span></a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="sp1.html"><a href="sp1.html"><i class="fa fa-check"></i><b>11</b> Spatial Analysis (part 1)<span></span></a></li>
<li class="chapter" data-level="12" data-path="lagos-analysis.html"><a href="lagos-analysis.html"><i class="fa fa-check"></i><b>12</b> LAGOS Analysis<span></span></a>
<ul>
<li class="chapter" data-level="12.1" data-path="lagos-analysis.html"><a href="lagos-analysis.html#loading-in-data"><i class="fa fa-check"></i><b>12.1</b> Loading in data<span></span></a>
<ul>
<li class="chapter" data-level="12.1.1" data-path="lagos-analysis.html"><a href="lagos-analysis.html#first-download-and-then-specifically-grab-the-locus-or-site-coordinates"><i class="fa fa-check"></i><b>12.1.1</b> First download and then specifically grab the locus (or site coordinates)<span></span></a></li>
<li class="chapter" data-level="12.1.2" data-path="lagos-analysis.html"><a href="lagos-analysis.html#convert-to-spatial-data"><i class="fa fa-check"></i><b>12.1.2</b> Convert to spatial data<span></span></a></li>
<li class="chapter" data-level="12.1.3" data-path="lagos-analysis.html"><a href="lagos-analysis.html#subset-to-only-minnesota"><i class="fa fa-check"></i><b>12.1.3</b> Subset to only Minnesota<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="assignment-3.html"><a href="assignment-3.html"><i class="fa fa-check"></i><b>13</b> Assignment<span></span></a>
<ul>
<li class="chapter" data-level="13.1" data-path="assignment-3.html"><a href="assignment-3.html#question-1-2"><i class="fa fa-check"></i><b>13.1</b> Question 1)<span></span></a></li>
<li class="chapter" data-level="13.2" data-path="assignment-3.html"><a href="assignment-3.html#question-2-2"><i class="fa fa-check"></i><b>13.2</b> Question 2)<span></span></a></li>
<li class="chapter" data-level="13.3" data-path="assignment-3.html"><a href="assignment-3.html#question-3-2"><i class="fa fa-check"></i><b>13.3</b> Question 3)<span></span></a></li>
<li class="chapter" data-level="13.4" data-path="assignment-3.html"><a href="assignment-3.html#question-4-2"><i class="fa fa-check"></i><b>13.4</b> Question 4)<span></span></a></li>
<li class="chapter" data-level="13.5" data-path="assignment-3.html"><a href="assignment-3.html#question-5-2"><i class="fa fa-check"></i><b>13.5</b> Question 5)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="sp2.html"><a href="sp2.html"><i class="fa fa-check"></i><b>14</b> Spatial Analysis (part 2)<span></span></a></li>
<li class="chapter" data-level="15" data-path="lagos-analysis-1.html"><a href="lagos-analysis-1.html"><i class="fa fa-check"></i><b>15</b> LAGOS Analysis<span></span></a>
<ul>
<li class="chapter" data-level="15.1" data-path="lagos-analysis-1.html"><a href="lagos-analysis-1.html#loading-in-data-1"><i class="fa fa-check"></i><b>15.1</b> Loading in data<span></span></a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="lagos-analysis-1.html"><a href="lagos-analysis-1.html#first-download-and-then-specifically-grab-the-locus-or-site-lat-longs"><i class="fa fa-check"></i><b>15.1.1</b> First download and then specifically grab the locus (or site lat longs)<span></span></a></li>
<li class="chapter" data-level="15.1.2" data-path="lagos-analysis-1.html"><a href="lagos-analysis-1.html#subset-columns-nutr-to-only-keep-key-info-that-we-want"><i class="fa fa-check"></i><b>15.1.2</b> Subset columns nutr to only keep key info that we want<span></span></a></li>
<li class="chapter" data-level="15.1.3" data-path="lagos-analysis-1.html"><a href="lagos-analysis-1.html#keep-sites-with-at-least-200-observations"><i class="fa fa-check"></i><b>15.1.3</b> Keep sites with at least 200 observations<span></span></a></li>
<li class="chapter" data-level="15.1.4" data-path="lagos-analysis-1.html"><a href="lagos-analysis-1.html#join-water-quality-data-to-spatial-data"><i class="fa fa-check"></i><b>15.1.4</b> Join water quality data to spatial data<span></span></a></li>
<li class="chapter" data-level="15.1.5" data-path="lagos-analysis-1.html"><a href="lagos-analysis-1.html#mean-chl_a-map"><i class="fa fa-check"></i><b>15.1.5</b> Mean Chl_a map<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="assignment-4.html"><a href="assignment-4.html"><i class="fa fa-check"></i><b>16</b> Assignment<span></span></a>
<ul>
<li class="chapter" data-level="16.1" data-path="assignment-4.html"><a href="assignment-4.html#question-1-3"><i class="fa fa-check"></i><b>16.1</b> Question 1)<span></span></a>
<ul>
<li class="chapter" data-level="16.1.1" data-path="assignment-4.html"><a href="assignment-4.html#a"><i class="fa fa-check"></i><b>16.1.1</b> 1a)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="assignment-4.html"><a href="assignment-4.html#question-2-3"><i class="fa fa-check"></i><b>16.2</b> Question 2)<span></span></a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="assignment-4.html"><a href="assignment-4.html#a-1"><i class="fa fa-check"></i><b>16.2.1</b> 2a)<span></span></a></li>
<li class="chapter" data-level="16.2.2" data-path="assignment-4.html"><a href="assignment-4.html#b"><i class="fa fa-check"></i><b>16.2.2</b> 2b)<span></span></a></li>
<li class="chapter" data-level="16.2.3" data-path="assignment-4.html"><a href="assignment-4.html#c"><i class="fa fa-check"></i><b>16.2.3</b> 2c)<span></span></a></li>
<li class="chapter" data-level="16.2.4" data-path="assignment-4.html"><a href="assignment-4.html#c-bonus"><i class="fa fa-check"></i><b>16.2.4</b> 2c) Bonus<span></span></a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="assignment-4.html"><a href="assignment-4.html#question-3-3"><i class="fa fa-check"></i><b>16.3</b> Question 3)<span></span></a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="regression-analysis.html"><a href="regression-analysis.html"><i class="fa fa-check"></i><b>17</b> Regression Analysis<span></span></a>
<ul>
<li class="chapter" data-level="17.1" data-path="regression-analysis.html"><a href="regression-analysis.html#weather-data-analysis"><i class="fa fa-check"></i><b>17.1</b> Weather Data Analysis<span></span></a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="regression-analysis.html"><a href="regression-analysis.html#load-the-prism-daily-maximum-temperatures"><i class="fa fa-check"></i><b>17.1.1</b> Load the PRISM daily maximum temperatures<span></span></a></li>
<li class="chapter" data-level="17.1.2" data-path="regression-analysis.html"><a href="regression-analysis.html#tidy-weather-data"><i class="fa fa-check"></i><b>17.1.2</b> tidy weather data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="regression-analysis.html"><a href="regression-analysis.html#temperature-trends"><i class="fa fa-check"></i><b>17.2</b> Temperature trends<span></span></a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="regression-analysis.html"><a href="regression-analysis.html#summer-temperature-trends-winneshiek-county"><i class="fa fa-check"></i><b>17.2.1</b> Summer temperature trends: Winneshiek County<span></span></a></li>
<li class="chapter" data-level="17.2.2" data-path="regression-analysis.html"><a href="regression-analysis.html#winter-temperatures---winneshiek-county"><i class="fa fa-check"></i><b>17.2.2</b> Winter Temperatures - Winneshiek County<span></span></a></li>
<li class="chapter" data-level="17.2.3" data-path="regression-analysis.html"><a href="regression-analysis.html#multiple-regression-quadratic-time-trend"><i class="fa fa-check"></i><b>17.2.3</b> Multiple regression – Quadratic time trend<span></span></a></li>
<li class="chapter" data-level="17.2.4" data-path="regression-analysis.html"><a href="regression-analysis.html#download-nass-corn-yield-data"><i class="fa fa-check"></i><b>17.2.4</b> Download NASS corn yield data<span></span></a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="regression-analysis.html"><a href="regression-analysis.html#assignment-5"><i class="fa fa-check"></i><b>17.3</b> Assignment<span></span></a>
<ul>
<li class="chapter" data-level="17.3.1" data-path="regression-analysis.html"><a href="regression-analysis.html#question-1a"><i class="fa fa-check"></i><b>17.3.1</b> Question 1a<span></span></a></li>
<li class="chapter" data-level="17.3.2" data-path="regression-analysis.html"><a href="regression-analysis.html#question-1b"><i class="fa fa-check"></i><b>17.3.2</b> Question 1b<span></span></a></li>
<li class="chapter" data-level="17.3.3" data-path="regression-analysis.html"><a href="regression-analysis.html#question-2-4"><i class="fa fa-check"></i><b>17.3.3</b> Question 2<span></span></a></li>
<li class="chapter" data-level="17.3.4" data-path="regression-analysis.html"><a href="regression-analysis.html#question-3-4"><i class="fa fa-check"></i><b>17.3.4</b> Question 3<span></span></a></li>
<li class="chapter" data-level="17.3.5" data-path="regression-analysis.html"><a href="regression-analysis.html#question-4-3"><i class="fa fa-check"></i><b>17.3.5</b> Question 4<span></span></a></li>
<li class="chapter" data-level="17.3.6" data-path="regression-analysis.html"><a href="regression-analysis.html#question-5-3"><i class="fa fa-check"></i><b>17.3.6</b> Question 5<span></span></a></li>
<li class="chapter" data-level="17.3.7" data-path="regression-analysis.html"><a href="regression-analysis.html#bonus"><i class="fa fa-check"></i><b>17.3.7</b> Bonus<span></span></a></li>
<li class="chapter" data-level="17.3.8" data-path="regression-analysis.html"><a href="regression-analysis.html#bonus-2"><i class="fa fa-check"></i><b>17.3.8</b> Bonus #2<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="beginning-machine-learning.html"><a href="beginning-machine-learning.html"><i class="fa fa-check"></i><b>18</b> Beginning Machine Learning<span></span></a></li>
<li class="chapter" data-level="19" data-path="objective.html"><a href="objective.html"><i class="fa fa-check"></i><b>19</b> Objective<span></span></a>
<ul>
<li class="chapter" data-level="19.1" data-path="objective.html"><a href="objective.html#data-read"><i class="fa fa-check"></i><b>19.1</b> Data read<span></span></a></li>
<li class="chapter" data-level="19.2" data-path="objective.html"><a href="objective.html#spatial-autocorrelation-grouping"><i class="fa fa-check"></i><b>19.2</b> Spatial autocorrelation grouping<span></span></a></li>
<li class="chapter" data-level="19.3" data-path="objective.html"><a href="objective.html#model-development"><i class="fa fa-check"></i><b>19.3</b> Model development<span></span></a></li>
<li class="chapter" data-level="19.4" data-path="objective.html"><a href="objective.html#chl-a-model"><i class="fa fa-check"></i><b>19.4</b> Chl-a model<span></span></a>
<ul>
<li class="chapter" data-level="19.4.1" data-path="objective.html"><a href="objective.html#chl-a-model-measuredpredicted-plot"><i class="fa fa-check"></i><b>19.4.1</b> Chl-a Model Measured/Predicted Plot<span></span></a></li>
<li class="chapter" data-level="19.4.2" data-path="objective.html"><a href="objective.html#chl-a-error-metrics"><i class="fa fa-check"></i><b>19.4.2</b> Chl-a Error Metrics<span></span></a></li>
</ul></li>
<li class="chapter" data-level="19.5" data-path="objective.html"><a href="objective.html#tss-model"><i class="fa fa-check"></i><b>19.5</b> TSS Model<span></span></a>
<ul>
<li class="chapter" data-level="19.5.1" data-path="objective.html"><a href="objective.html#tss-plot"><i class="fa fa-check"></i><b>19.5.1</b> TSS plot<span></span></a></li>
<li class="chapter" data-level="19.5.2" data-path="objective.html"><a href="objective.html#tss-evaluation"><i class="fa fa-check"></i><b>19.5.2</b> TSS Evaluation<span></span></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="20" data-path="q1.html"><a href="q1.html"><i class="fa fa-check"></i><b>20</b> Q1)<span></span></a></li>
<li class="chapter" data-level="21" data-path="q2.html"><a href="q2.html"><i class="fa fa-check"></i><b>21</b> Q2)<span></span></a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analytics Portfolio</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="simple-web-scraping" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">9</span> Simple web scraping<a href="simple-web-scraping.html#simple-web-scraping" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>R can read html using either <strong>rvest</strong>, <strong>xml</strong>, or <strong>xml2</strong> packages. Here we are going to navigate to the Center for Snow and Avalance Studies <a href="https://snowstudies.org/archived-data/">Website</a> and read a table in. This table contains links to data we want to programatically download for three sites. We don’t know much about these sites, but they contain incredibly rich snow, temperature, and precipitation data.</p>
<div id="reading-an-html" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> Reading an html<a href="simple-web-scraping.html#reading-an-html" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="extract-csv-links-from-webpage" class="section level3 hasAnchor" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Extract CSV links from webpage<a href="simple-web-scraping.html#extract-csv-links-from-webpage" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="simple-web-scraping.html#cb15-1" aria-hidden="true" tabindex="-1"></a>site_url <span class="ot">&lt;-</span> <span class="st">&#39;https://snowstudies.org/archived-data/&#39;</span></span>
<span id="cb15-2"><a href="simple-web-scraping.html#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="simple-web-scraping.html#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Read the web url</span></span>
<span id="cb15-4"><a href="simple-web-scraping.html#cb15-4" aria-hidden="true" tabindex="-1"></a>webpage <span class="ot">&lt;-</span> <span class="fu">read_html</span>(site_url)</span>
<span id="cb15-5"><a href="simple-web-scraping.html#cb15-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-6"><a href="simple-web-scraping.html#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="co">#See if we can extract tables and get the data that way</span></span>
<span id="cb15-7"><a href="simple-web-scraping.html#cb15-7" aria-hidden="true" tabindex="-1"></a>tables <span class="ot">&lt;-</span> webpage <span class="sc">%&gt;%</span></span>
<span id="cb15-8"><a href="simple-web-scraping.html#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">&#39;table&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-9"><a href="simple-web-scraping.html#cb15-9" aria-hidden="true" tabindex="-1"></a>  magrittr<span class="sc">::</span><span class="fu">extract2</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-10"><a href="simple-web-scraping.html#cb15-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_table</span>(<span class="at">fill =</span> <span class="cn">TRUE</span>)</span>
<span id="cb15-11"><a href="simple-web-scraping.html#cb15-11" aria-hidden="true" tabindex="-1"></a><span class="co">#That didn&#39;t work, so let&#39;s try a different approach</span></span>
<span id="cb15-12"><a href="simple-web-scraping.html#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="simple-web-scraping.html#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co">#Extract only weblinks and then the URLs!</span></span>
<span id="cb15-14"><a href="simple-web-scraping.html#cb15-14" aria-hidden="true" tabindex="-1"></a>links <span class="ot">&lt;-</span> webpage <span class="sc">%&gt;%</span></span>
<span id="cb15-15"><a href="simple-web-scraping.html#cb15-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_nodes</span>(<span class="st">&#39;a&#39;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb15-16"><a href="simple-web-scraping.html#cb15-16" aria-hidden="true" tabindex="-1"></a>  .[<span class="fu">grepl</span>(<span class="st">&#39;24hr&#39;</span>,.)] <span class="sc">%&gt;%</span></span>
<span id="cb15-17"><a href="simple-web-scraping.html#cb15-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">html_attr</span>(<span class="st">&#39;href&#39;</span>)</span></code></pre></div>
</div>
</div>
<div id="data-download-1" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> Data Download<a href="simple-web-scraping.html#data-download-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="download-data-in-a-for-loop" class="section level3 hasAnchor" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Download data in a for loop<a href="simple-web-scraping.html#download-data-in-a-for-loop" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="simple-web-scraping.html#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Grab only the name of the file by splitting out on forward slashes</span></span>
<span id="cb16-2"><a href="simple-web-scraping.html#cb16-2" aria-hidden="true" tabindex="-1"></a>splits <span class="ot">&lt;-</span> <span class="fu">str_split_fixed</span>(links,<span class="st">&#39;/&#39;</span>,<span class="dv">8</span>)</span>
<span id="cb16-3"><a href="simple-web-scraping.html#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="simple-web-scraping.html#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co">#Keep only the 8th column</span></span>
<span id="cb16-5"><a href="simple-web-scraping.html#cb16-5" aria-hidden="true" tabindex="-1"></a>dataset <span class="ot">&lt;-</span> splits[,<span class="dv">8</span>] </span>
<span id="cb16-6"><a href="simple-web-scraping.html#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="simple-web-scraping.html#cb16-7" aria-hidden="true" tabindex="-1"></a><span class="co">#generate a file list for where the data goes</span></span>
<span id="cb16-8"><a href="simple-web-scraping.html#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;data&quot;</span>, <span class="at">showWarnings =</span> <span class="cn">FALSE</span>)</span>
<span id="cb16-9"><a href="simple-web-scraping.html#cb16-9" aria-hidden="true" tabindex="-1"></a>file_names <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">&#39;data/&#39;</span>,dataset)</span>
<span id="cb16-10"><a href="simple-web-scraping.html#cb16-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-11"><a href="simple-web-scraping.html#cb16-11" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>){</span>
<span id="cb16-12"><a href="simple-web-scraping.html#cb16-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">download.file</span>(links[i],<span class="at">destfile=</span>file_names[i])</span>
<span id="cb16-13"><a href="simple-web-scraping.html#cb16-13" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb16-14"><a href="simple-web-scraping.html#cb16-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-15"><a href="simple-web-scraping.html#cb16-15" aria-hidden="true" tabindex="-1"></a>downloaded <span class="ot">&lt;-</span> <span class="fu">file.exists</span>(file_names)</span>
<span id="cb16-16"><a href="simple-web-scraping.html#cb16-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-17"><a href="simple-web-scraping.html#cb16-17" aria-hidden="true" tabindex="-1"></a>evaluate <span class="ot">&lt;-</span> <span class="sc">!</span><span class="fu">all</span>(downloaded)</span></code></pre></div>
</div>
<div id="download-data-in-a-map" class="section level3 hasAnchor" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Download data in a map<a href="simple-web-scraping.html#download-data-in-a-map" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="simple-web-scraping.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Map version of the same for loop (downloading 3 files)</span></span>
<span id="cb17-2"><a href="simple-web-scraping.html#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(evaluate <span class="sc">==</span> T){</span>
<span id="cb17-3"><a href="simple-web-scraping.html#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">map2</span>(links[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>],file_names[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>],download.file)</span>
<span id="cb17-4"><a href="simple-web-scraping.html#cb17-4" aria-hidden="true" tabindex="-1"></a>}<span class="cf">else</span>{<span class="fu">print</span>(<span class="st">&#39;data already downloaded&#39;</span>)}</span></code></pre></div>
</div>
</div>
<div id="data-read-in" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Data read-in<a href="simple-web-scraping.html#data-read-in" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="read-in-just-the-snow-data-as-a-loop" class="section level3 hasAnchor" number="9.3.1">
<h3><span class="header-section-number">9.3.1</span> Read in just the snow data as a loop<a href="simple-web-scraping.html#read-in-just-the-snow-data-as-a-loop" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="simple-web-scraping.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Pattern matching to only keep certain files</span></span>
<span id="cb18-2"><a href="simple-web-scraping.html#cb18-2" aria-hidden="true" tabindex="-1"></a>snow_files <span class="ot">&lt;-</span> file_names <span class="sc">%&gt;%</span></span>
<span id="cb18-3"><a href="simple-web-scraping.html#cb18-3" aria-hidden="true" tabindex="-1"></a>  .[<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&#39;SG_24&#39;</span>,.)] <span class="sc">%&gt;%</span></span>
<span id="cb18-4"><a href="simple-web-scraping.html#cb18-4" aria-hidden="true" tabindex="-1"></a>  .[<span class="sc">!</span><span class="fu">grepl</span>(<span class="st">&#39;PTSP&#39;</span>,.)]</span>
<span id="cb18-5"><a href="simple-web-scraping.html#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="simple-web-scraping.html#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="co">#empty_data &lt;- list()</span></span>
<span id="cb18-7"><a href="simple-web-scraping.html#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="simple-web-scraping.html#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="co"># snow_data &lt;- for(i in 1:length(snow_files)){</span></span>
<span id="cb18-9"><a href="simple-web-scraping.html#cb18-9" aria-hidden="true" tabindex="-1"></a><span class="co">#   empty_data[[i]] &lt;- read_csv(snow_files[i]) %&gt;%</span></span>
<span id="cb18-10"><a href="simple-web-scraping.html#cb18-10" aria-hidden="true" tabindex="-1"></a><span class="co">#     select(Year,DOY,Sno_Height_M)</span></span>
<span id="cb18-11"><a href="simple-web-scraping.html#cb18-11" aria-hidden="true" tabindex="-1"></a><span class="co"># }</span></span>
<span id="cb18-12"><a href="simple-web-scraping.html#cb18-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-13"><a href="simple-web-scraping.html#cb18-13" aria-hidden="true" tabindex="-1"></a><span class="co">#snow_data_full &lt;- do.call(&#39;rbind&#39;,empty_data)</span></span>
<span id="cb18-14"><a href="simple-web-scraping.html#cb18-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-15"><a href="simple-web-scraping.html#cb18-15" aria-hidden="true" tabindex="-1"></a><span class="co">#summary(snow_data_full)</span></span></code></pre></div>
</div>
<div id="read-in-the-data-as-a-map-function" class="section level3 hasAnchor" number="9.3.2">
<h3><span class="header-section-number">9.3.2</span> Read in the data as a map function<a href="simple-web-scraping.html#read-in-the-data-as-a-map-function" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="simple-web-scraping.html#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define a function to read in list of csv files</span></span>
<span id="cb19-2"><a href="simple-web-scraping.html#cb19-2" aria-hidden="true" tabindex="-1"></a>our_snow_reader <span class="ot">&lt;-</span> <span class="cf">function</span>(file){</span>
<span id="cb19-3"><a href="simple-web-scraping.html#cb19-3" aria-hidden="true" tabindex="-1"></a>  name <span class="ot">=</span> <span class="fu">str_split_fixed</span>(file,<span class="st">&#39;/&#39;</span>,<span class="dv">2</span>)[,<span class="dv">2</span>] <span class="sc">%&gt;%</span></span>
<span id="cb19-4"><a href="simple-web-scraping.html#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">gsub</span>(<span class="st">&#39;_24hr.csv&#39;</span>,<span class="st">&#39;&#39;</span>,.)</span>
<span id="cb19-5"><a href="simple-web-scraping.html#cb19-5" aria-hidden="true" tabindex="-1"></a>  df <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(file) <span class="sc">%&gt;%</span></span>
<span id="cb19-6"><a href="simple-web-scraping.html#cb19-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">select</span>(Year,DOY,Sno_Height_M) <span class="sc">%&gt;%</span></span>
<span id="cb19-7"><a href="simple-web-scraping.html#cb19-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">site =</span> name)</span>
<span id="cb19-8"><a href="simple-web-scraping.html#cb19-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb19-9"><a href="simple-web-scraping.html#cb19-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-10"><a href="simple-web-scraping.html#cb19-10" aria-hidden="true" tabindex="-1"></a><span class="co"># use map to call function defined above</span></span>
<span id="cb19-11"><a href="simple-web-scraping.html#cb19-11" aria-hidden="true" tabindex="-1"></a>snow_data_full <span class="ot">&lt;-</span> <span class="fu">map_dfr</span>(snow_files,our_snow_reader)</span>
<span id="cb19-12"><a href="simple-web-scraping.html#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="simple-web-scraping.html#cb19-13" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(snow_data_full)</span></code></pre></div>
</div>
<div id="plot-snow-data" class="section level3 hasAnchor" number="9.3.3">
<h3><span class="header-section-number">9.3.3</span> Plot snow data<a href="simple-web-scraping.html#plot-snow-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="simple-web-scraping.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># summarize snow data by year</span></span>
<span id="cb20-2"><a href="simple-web-scraping.html#cb20-2" aria-hidden="true" tabindex="-1"></a>snow_yearly <span class="ot">&lt;-</span> snow_data_full <span class="sc">%&gt;%</span></span>
<span id="cb20-3"><a href="simple-web-scraping.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(Year,site) <span class="sc">%&gt;%</span></span>
<span id="cb20-4"><a href="simple-web-scraping.html#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_height =</span> <span class="fu">mean</span>(Sno_Height_M,<span class="at">na.rm=</span>T))</span>
<span id="cb20-5"><a href="simple-web-scraping.html#cb20-5" aria-hidden="true" tabindex="-1"></a><span class="co"># plot snow data</span></span>
<span id="cb20-6"><a href="simple-web-scraping.html#cb20-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(snow_yearly,<span class="fu">aes</span>(<span class="at">x=</span>Year,<span class="at">y=</span>mean_height,<span class="at">color=</span>site)) <span class="sc">+</span> </span>
<span id="cb20-7"><a href="simple-web-scraping.html#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb20-8"><a href="simple-web-scraping.html#cb20-8" aria-hidden="true" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">theme_few</span>() <span class="sc">+</span> </span>
<span id="cb20-9"><a href="simple-web-scraping.html#cb20-9" aria-hidden="true" tabindex="-1"></a>  ggthemes<span class="sc">::</span><span class="fu">scale_color_few</span>()</span></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-22-1.png" width="672" /></p>
</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="web-scraping-and-functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="assignment-2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
